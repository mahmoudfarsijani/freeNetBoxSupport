# 🤖 ربات تلگرام خودران

ربات تلگرام هوشمند که **کاملاً خودکار** کار می‌کند و نیازی به دخالت شما ندارد!

## ✨ ویژگی‌های کلیدی

- 🔄 **خودران 24/7**: همیشه فعال و پاسخگو
- 🚀 **شروع خودکار**: بعد از restart سیستم خودکار شروع می‌شود
- 🛠️ **خودترمیمی**: اگر crash کند، خودش دوباره شروع می‌شود
- 📱 **منوی کاربرپسند**: گزینه‌های فارسی و کاربردی
- 📊 **مدیریت لاگ**: ثبت کامل فعالیت‌ها

---

## 🚀 نصب سریع

### 1️⃣ **تنظیم اولیه:**
```bash
# کپی فایل تنظیمات
cp config.py.example config.py

# یا ایجاد فایل .env
echo "BOT_TOKEN=your_bot_token_here" > .env
echo "OWNER_CHAT_ID=your_chat_id_here" >> .env
```

### 2️⃣ **نصب وابستگی‌ها:**
```bash
pip3 install -r requirements.txt
```

### 3️⃣ **نصب سرویس خودکار:**
```bash
./install_service.sh
```

**🎉 تمام! ربات شما حالا کاملاً خودکار کار می‌کند!**

---

## 📋 دستورات مدیریت

### 🔧 **مدیریت سرویس خودکار:**
```bash
./install_service.sh      # نصب سرویس خودکار
./uninstall_service.sh    # حذف سرویس خودکار
./check_bot_status.sh     # بررسی وضعیت ربات
```

### ⚡ **مدیریت دستی:**
```bash
./start_bot.sh           # شروع در پس‌زمینه
./stop_bot.sh            # توقف ربات
python3 run.py           # اجرای مستقیم
```

### 📊 **مانیتورینگ:**
```bash
tail -f bot.log          # مشاهده لاگ‌های زنده
tail -f bot_error.log    # مشاهده خطاها
./check_bot_status.sh    # وضعیت کامل
```

---

## 🎯 **ویژگی‌های ربات**

### 📱 **منوی اصلی:**
1. **📱 چه برنامه ای نیاز دارم** - راهنمای برنامه‌های مختلف
2. **🔗 لینک برنامه ها** - دانلود مستقیم برنامه‌ها
3. **💰 لیست قیمت اکانت** - جدول قیمت‌ها
4. **📢 لینک کانال و پشتیبانی سریع** - ارتباط با پشتیبانی
5. **📚 راهنمای کامل برنامه** - آموزش کامل
6. **❌ انصراف** - بازگشت به شروع

### 🔄 **قابلیت‌های خودکار:**
- ✅ شروع خودکار بعد از restart سیستم
- ✅ restart خودکار در صورت crash
- ✅ مدیریت خطاها و لاگ‌گیری
- ✅ throttling برای جلوگیری از restart‌های مکرر
- ✅ ارسال خودکار پیام‌ها به مالک

---

## 🛠️ **مدیریت پیشرفته**

### 🖥️ **دستورات سیستمی (macOS):**
```bash
# مدیریت با launchctl
launchctl start com.telegram.bot      # شروع
launchctl stop com.telegram.bot       # توقف
launchctl list | grep telegram        # وضعیت
```

### 📂 **فایل‌های مهم:**
- `com.telegram.bot.plist` - تنظیمات سرویس
- `bot.log` - لاگ‌های عادی
- `bot_error.log` - لاگ‌های خطا
- `bot.pid` - شناسه فرآیند
- `.env` - تنظیمات محرمانه

---

## 🔧 **عیب‌یابی**

### ❌ **ربات شروع نمی‌شود:**
```bash
# بررسی وضعیت
./check_bot_status.sh

# بررسی لاگ‌ها
tail -20 bot_error.log

# بررسی تنظیمات
cat .env
```

### 🔄 **restart مکرر:**
```bash
# بررسی علت
grep "restart" bot.log | tail -10

# بررسی خطاها
grep "ERROR" bot.log | tail -10
```

### 📞 **ربات پاسخ نمی‌دهد:**
```bash
# بررسی اتصال
curl -s https://api.telegram.org/bot$BOT_TOKEN/getMe

# restart سرویس
launchctl stop com.telegram.bot
launchctl start com.telegram.bot
```

---

## 🎨 **سفارشی‌سازی**

### 📝 **تغییر پیام‌ها:**
فایل `config.py` را ویرایش کنید:
```python
WELCOME_MESSAGE = "پیام خوشامدگویی شما"
FORWARD_MESSAGE_PREFIX = "پیشوند پیام‌های ارسالی"
```

### 🔧 **تنظیمات پیشرفته:**
فایل `run.py` را ویرایش کنید:
```python
max_restarts = 50        # حداکثر restart در ساعت
restart_window = 3600    # پنجره زمانی (ثانیه)
```

---

## 📞 **پشتیبانی**

- 🤖 ربات: [مستقیماً با ربات تست کنید]
- 📢 کانال: @FreeNet2Box
- 👨‍💻 پشتیبانی: @freeNetBoxSupport

---

## 📄 **لایسنس**

این پروژه تحت لایسنس MIT منتشر شده است.

---

**🎉 حالا ربات شما کاملاً خودکار و خودران است!**
**💡 دیگر نیازی به نگرانی ندارید - ربات خودش مراقب خودش است!** 